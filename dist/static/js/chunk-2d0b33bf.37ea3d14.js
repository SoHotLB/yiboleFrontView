(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d0b33bf"],{2803:function(e,t,o){"use strict";o.r(t);var r=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{attrs:{id:"employ-container"}},[o("div",{staticClass:"employ-btn"},[o("el-button",{staticStyle:{"margin-left":"100px"},attrs:{type:"primary"},on:{click:e.pwdLogin}},[e._v("密码登录")]),o("el-button",{staticStyle:{"margin-left":"30px"},attrs:{type:"primary"},on:{click:e.infoLogin}},[e._v("短信登录")])],1),e.isShow?o("div",{staticClass:"employ-form"},[o("el-row",[o("el-col",{attrs:{span:16}},[o("div",{staticClass:"grid-content bg-purple-light"},[o("el-form",{ref:"ruleForm",staticClass:"demo-ruleForm",attrs:{model:e.ruleForm,"status-icon":"",rules:e.rules,"label-width":"80px"}},[o("el-form-item",{staticStyle:{width:"350px","margin-top":"70px"},attrs:{label:"用户名",prop:"account"}},[o("el-input",{attrs:{placeholder:"请输入应聘者手机号/用户名",type:"text",autocomplete:"off"},model:{value:e.ruleForm.account,callback:function(t){e.$set(e.ruleForm,"account",t)},expression:"ruleForm.account"}})],1),o("el-form-item",{staticStyle:{width:"350px","margin-top":"70px"},attrs:{label:"密码",prop:"pass"}},[o("el-input",{attrs:{placeholder:"请输入密码",type:"password",autocomplete:"off"},model:{value:e.ruleForm.pass,callback:function(t){e.$set(e.ruleForm,"pass",t)},expression:"ruleForm.pass"}})],1),o("el-form-item",{staticStyle:{width:"350px","margin-top":"50px"},attrs:{label:"确认密码",prop:"checkPass"}},[o("el-input",{attrs:{placeholder:"请确认密码",type:"password",autocomplete:"off"},model:{value:e.ruleForm.checkPass,callback:function(t){e.$set(e.ruleForm,"checkPass",t)},expression:"ruleForm.checkPass"}})],1),o("el-form-item",[o("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.PasssubmitForm("ruleForm")}}},[e._v("登录")]),o("el-button",{on:{click:e.employRegister}},[e._v("注册")])],1)],1)],1)])],1)],1):o("div",{staticClass:"employ-form-register"},[o("el-row",[o("el-col",{staticStyle:{"margin-top":"50px"}},[o("div",{staticClass:"grid-content bg-purple-light"},[o("el-form",{ref:"TelruleForm",staticClass:"demo-ruleForm",attrs:{model:e.TelruleForm,"status-icon":"",rules:e.Telrules,"label-width":"80px"}},[o("el-form-item",{staticStyle:{width:"350px"},attrs:{label:"手机号码",placeholder:"请输入应聘者11位正确手机号",prop:"Telphone"}},[o("el-input",{attrs:{type:"tel",autocomplete:"off"},model:{value:e.TelruleForm.Telphone,callback:function(t){e.$set(e.TelruleForm,"Telphone",t)},expression:"TelruleForm.Telphone"}})],1),o("el-form-item",{staticStyle:{"margin-top":"50px"},attrs:{label:"验证码",placeholder:"请输入有效验证码",prop:"Telcode"}},[o("el-input",{staticStyle:{width:"200px"},attrs:{"label-width":"80px"},model:{value:e.TelruleForm.Telcode,callback:function(t){e.$set(e.TelruleForm,"Telcode",t)},expression:"TelruleForm.Telcode"}}),o("el-button",{directives:[{name:"show",rawName:"v-show",value:e.Verification,expression:"Verification"}],staticStyle:{"margin-left":"10px"},attrs:{type:"primary"},on:{click:e.handleClick}},[e._v("点击获取验证码")]),o("el-button",{directives:[{name:"show",rawName:"v-show",value:!e.Verification,expression:"!Verification"}],attrs:{type:"primary"}},[o("span",[e._v(e._s(e.timer))]),e._v("秒后重新获取")])],1),o("div",{staticStyle:{display:"flex","flex-direction":"row"}},[o("el-form-item",[o("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.TelsubmitForm("TelruleForm")}}},[e._v("登录")]),o("el-button",{on:{click:function(t){return e.employRegister()}}},[e._v("注册")])],1)],1)],1)],1)])],1)],1)])},l=[],s={name:"employForm",data:function(){var e=this,t=function(e,t,o){t.length<11?o(new Error("请输入11位有效用户名")):o(),console.log(t)},o=function(e,t,o){t.length<11?o(new Error("请输入11位有效用户名")):o()},r=function(t,o,r){""===o?r(new Error("请输入密码")):(""!==e.ruleForm.checkPass&&e.$refs.ruleForm.validateField("checkPass"),r())},l=function(t,o,r){""===o?r(new Error("请再次输入密码")):o!==e.ruleForm.pass?r(new Error("两次输入密码不一致!")):r()},s=function(e,t,o){return t?11!=t.length?o(new Error("请输入11位手机号码")):void o():o(new Error("请输入手机号码"))},a=function(e,t,o){t?o():o(new Error("请输入验证码"))};return{CODE:"",isShow:!0,Verification:!0,timer:60,ruleForm:{account:"",pass:"",checkPass:"",phone:"",code:""},rules:{account:[{validator:o,trigger:"blur"}],pass:[{validator:r,trigger:"blur"}],checkPass:[{validator:l,trigger:"blur"}],phone:[{validator:s,trigger:"blur"}],code:[{validator:a,trigger:"blur"}]},Telrules:{Telphone:[{validator:t,trigger:"blur"}],Telcode:[{validator:a,trigger:"blur"}]},TelruleForm:{Telphone:"",Telcode:""}}},methods:{pwdLogin:function(){console.log("密码登录"),this.isShow=!0},infoLogin:function(){console.log("手机登录"),this.isShow=!1},TelsubmitForm:function(e){var t=this,o=this;this.$refs[e].validate((function(e){e?(console.log(e),t.$axios.post(t.$store.state.URL+"checkEmployLoginByTel/"+t.TelruleForm.Telphone).then((function(e){console.log("手机登录"),console.log(e.data),console.log(o.CODE+"code"),console.log(e.data.code+"----"+o.TelruleForm.Telphone),0===e.data.code&&o.CODE===o.TelruleForm.Telcode?(console.log(e.data.code),o.$router.push({path:"/",query:{account:o.TelruleForm.Telphone,flag:"employ"}}),console.log("恭喜将手机号"+o.TelruleForm.Telphone+"传送值”/“里面去")):o.$message({message:"登录失败",type:"warning"})}),(function(e){this.$message({message:"服务端出问题啦"+e,type:"warning"})}))):t.$message({message:"请输入正确验证码或手机号",type:"warning"})}))},PasssubmitForm:function(e){var t=this,o=this;this.$refs[e].validate((function(e){if(!e)return o.$message({message:"登录失败",type:"warning"}),!1;t.$axios.post(t.$store.state.URL+"checkEmployLoginByAccount",{employAccount:t.ruleForm.account,employPassword:t.ruleForm.pass}).then((function(e){console.log(e),0==e.data.code?(console.log("成功"),o.$router.push({path:"/",query:{account:o.ruleForm.account,flag:"employ"}}),window.location.reload()):o.$message({message:"登录失败",type:"warning"})}),(function(e){console.log(e)}))}))},resetForm:function(e){this.$refs[e].resetFields()},handleClick:function(){var e=this,t=this;console.log(this.TelruleForm.Telphone),this.$axios.post(this.$store.state.URL+"getCode/"+this.TelruleForm.Telphone).then((function(e){console.log(e.data.msg),t.CODE=e.data.msg}),(function(e){console.log(e)})),this.Verification=!1;var o=setInterval((function(){e.timer--,e.timer<=0&&(e.Verification=!0,clearInterval(o))}),1e3)},employRegister:function(){this.$router.push({path:"/employRegister"})}}},a=s,i=o("2877"),n=Object(i["a"])(a,r,l,!1,null,"3d901c91",null);t["default"]=n.exports}}]);